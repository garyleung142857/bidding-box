(function(t){function e(e){for(var i,s,l=e[0],o=e[1],d=e[2],u=0,h=[];u<l.length;u++)s=l[u],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&h.push(n[s][0]),n[s]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i]);c&&c(e);while(h.length)h.shift()();return a.push.apply(a,d||[]),r()}function r(){for(var t,e=0;e<a.length;e++){for(var r=a[e],i=!0,l=1;l<r.length;l++){var o=r[l];0!==n[o]&&(i=!1)}i&&(a.splice(e--,1),t=s(s.s=r[0]))}return t}var i={},n={app:0},a=[];function s(e){if(i[e])return i[e].exports;var r=i[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=i,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(r,i,function(e){return t[e]}.bind(null,i));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/bidding-box/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var c=o;a.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"43ab":function(t,e,r){"use strict";r("6cb9")},"56d7":function(t,e,r){"use strict";r.r(e);var i=r("2b0e"),n=r("2f62");const a=()=>({sideLength:0}),s={sideLength(t){return t.sideLength}},l={changeSideLength(t,e){t.sideLength=e}};var o={namespaced:!0,state:a,getters:s,mutations:l};r("14d9");const d=["W","N","E","S"],c=t=>1===t.length?"":t[1],u=()=>({boardsHistory:{},history:[],boardNum:1}),h={curPlayer(t){return d[(t.boardNum+t.history.length)%4]},dealer(t){return d[t.boardNum%4]},boardNum(t){return t.boardNum},vulerability(t){return{EW:[0,3,4,6,7,9,10,13].includes(t.boardNum%16),NS:[2,4,5,7,10,12,13,15].includes(t.boardNum%16)}},history(t){return t.history},historyByPlayers(t){let e=[...t.history],r=[[],[],[],[]],i=t.boardNum%4;while(e.length>0)r[i].push(e.shift()),i=(i+1)%4;return r},biddingStates(t){let e={},r=t.history.length;while(r--){var i=t.history[r];if("P"!==i)if("R"!==i){if("X"!==i)return e.lastBid=i,e.lastBidPos=r,e;e.dblPos=r}else e.rdblPos=r}return e},lastBid(t,e){return e.biddingStates.lastBid},canDbl(t,e){let r=e.biddingStates;return void 0!==r.lastBidPos&&(void 0===r.dblPos&&(void 0===r.rdblPos&&t.history.length%2!==r.lastBidPos%2))},canRdbl(t,e){let r=e.biddingStates;return void 0!==r.lastBidPos&&(void 0!==r.dblPos&&(void 0===r.rdblPos&&t.history.length%2!==r.dblPos%2))},contract(t,e){let r={},i=t.history.length;if("P"!==t.history[i-1]||"P"!==t.history[i-2]||"P"!==t.history[i-3])return r;if("P"===t.history[i-4])return r.bid="PO",r;let n=e.biddingStates;r.bid=n.lastBid;for(let a=n.lastBidPos%2;a<=n.lastBidPos;a+=2)if(c(t.history[a])===c(r.bid)){r.declarer=d[(t.boardNum+a)%4];break}return void 0!==n.rdblPos?r.pxr="R":void 0!==n.dblPos?r.pxr="X":r.pxr="P",r}},b={addHistory(t,e){t.history.push(e)},advanceBoard(t){t.boardsHistory[t.boardNum]=[...t.history],t.boardNum+=1,t.history=t.boardNum in t.boardsHistory?t.boardsHistory[t.boardNum]:[]},unwindBoard(t){t.boardNum>1&&(t.boardNum-=1,t.history=t.boardNum in t.boardsHistory?t.boardsHistory[t.boardNum]:[])},undo(t){t.history.length>0&&t.history.pop()},resetAll(t){t.boardsHistory={},t.history=[],t.boardNum=1}};var p={namespaced:!0,state:u,getters:h,mutations:b};i["a"].use(n["a"]);var g=new n["a"].Store({modules:{sizing:o,history:p}}),y=r("7496"),f=function(){var t=this,e=t._self._c;return e(y["a"],{attrs:{id:"app"}},[e("BiddingMain")],1)},v=[],_=r("8336"),m=r("b0af"),P=r("99d9"),k=r("62ad"),x=r("169a"),w=r("553a"),C=r("132d"),O=r("0fd9"),B=r("2fa4"),N=r("3a2f"),j=r("dc22"),S=function(){var t=this,e=t._self._c;return e("div",{directives:[{def:j["a"],name:"resize",rawName:"v-resize",value:t.onResize,expression:"onResize"}]},[e("BiddingTable",{nativeOn:{click:function(e){return t.toggleDialog()}}}),e(x["a"],{attrs:{width:"unset",transition:!1},model:{value:t.boxDialog,callback:function(e){t.boxDialog=e},expression:"boxDialog"}},[e("BoxSelect",{on:{selectedCall:function(e){t.boxDialog=!1}}})],1),e(x["a"],{attrs:{width:"unset"},model:{value:t.resetDialog,callback:function(e){t.resetDialog=e},expression:"resetDialog"}},[e(m["a"],[e(P["b"],[t._v(" Reset All History? ")]),e(P["a"],[e(B["a"]),e(_["a"],{attrs:{color:"primary"},on:{click:function(e){t.resetDialog=!1}}},[t._v(" Cancel ")]),e(_["a"],{attrs:{color:"error"},on:{click:function(e){t.resetAll(),t.resetDialog=!1}}},[t._v(" Reset ")])],1)],1)],1),e(w["a"],{attrs:{fixed:"",padless:"",id:"control-footer"}},[e(O["a"],{attrs:{justify:"center","no-gutters":""}},[e(k["a"],{attrs:{cols:"12",id:"contract"}},[e("Contract")],1),e(k["a"],{attrs:{cols:t.tdOpened?2:t.biddingEnded?10:12}},[e(_["a"],{staticClass:"d-flex align-center justify-center",attrs:{block:"",id:"td-button"},on:{click:function(e){t.tdOpened=!t.tdOpened}}},[t._v(" TD ")])],1),t.tdOpened?[e(k["a"],{attrs:{cols:"2"}},[e(N["a"],{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function({on:r,attrs:i}){return[e(_["a"],t._g(t._b({staticClass:"d-flex align-center justify-center",attrs:{block:"",id:"reset-button"},nativeOn:{click:function(e){t.resetDialog=!0}}},"v-btn",i,!1),r),[e(C["a"],[t._v("mdi-nuke")])],1)]}}],null,!1,31462629)},[e("span",[t._v("Reset")])])],1),e(k["a"],{attrs:{cols:"4"}},[e(N["a"],{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function({on:r,attrs:i}){return[e(_["a"],t._g(t._b({staticClass:"d-flex align-center justify-center",attrs:{block:"",id:"undo-button"},on:{click:function(e){return t.undo()}}},"v-btn",i,!1),r),[e(C["a"],[t._v("mdi-arrow-u-left-top")])],1)]}}],null,!1,513760040)},[e("span",[t._v(" Undo last call ")])])],1),e(k["a"],{attrs:{cols:"2"}},[e(N["a"],{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function({on:r,attrs:i}){return[e(_["a"],t._g(t._b({staticClass:"d-flex align-center justify-center",attrs:{block:"",id:"unwind-button"},on:{click:function(e){return t.unwindBoard()}}},"v-btn",i,!1),r),[e(C["a"],[t._v("mdi-skip-previous")])],1)]}}],null,!1,3425069502)},[e("span",[t._v(" Nav to previous board ")])])],1)]:t._e(),t.biddingEnded||t.tdOpened?e(k["a"],{attrs:{cols:"2"}},[e(N["a"],{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function({on:r,attrs:i}){return[e(_["a"],t._g(t._b({staticClass:"d-flex align-center justify-center",attrs:{block:"",id:"advance-button"},on:{click:function(e){return t.advanceBoard()}}},"v-btn",i,!1),r),[e(C["a"],[t._v("mdi-skip-next")])],1)]}}],null,!1,530017736)},[e("span",[t._v("Nav to next board")])])],1):t._e()],2)],1)],1)},L=[],H=function(){var t=this,e=t._self._c;return e(m["a"],{staticClass:"biddingtable",attrs:{height:t.sideLength,width:t.sideLength,flat:"",color:"transparent"}},[e("PlayerTray",{attrs:{player:"N",playerHist:t.historyByPlayers[1],isCurrent:t.is_current("N")}}),e("PlayerTray",{attrs:{player:"E",playerHist:t.historyByPlayers[2],isCurrent:t.is_current("E")}}),e("span",[e(m["a"],{staticClass:"tablecenter",attrs:{height:.25*t.sideLength,width:.25*t.sideLength,color:"transparent",flat:""}},[e(m["a"],{class:"name-tag player-"+t.is_vul("N"),attrs:{id:"tag-N",width:.13*t.sideLength}},[t._v(t._s(t.player_title("N"))+" ")]),e(m["a"],{class:"name-tag player-"+t.is_vul("E"),attrs:{id:"tag-E",width:.13*t.sideLength}},[t._v(t._s(t.player_title("E"))+" ")]),e(m["a"],{class:"name-tag player-"+t.is_vul("S"),attrs:{id:"tag-S",width:.13*t.sideLength}},[t._v(t._s(t.player_title("S"))+" ")]),e(m["a"],{class:"name-tag player-"+t.is_vul("W"),attrs:{id:"tag-W",width:.13*t.sideLength}},[t._v(t._s(t.player_title("W"))+" ")]),e("div",{staticClass:"board-num"},[t._v(t._s(t.boardNum))])],1)],1),e("PlayerTray",{attrs:{player:"W",playerHist:t.historyByPlayers[0],isCurrent:t.is_current("W")}}),e("PlayerTray",{attrs:{player:"S",playerHist:t.historyByPlayers[3],isCurrent:t.is_current("S")}})],1)},D=[],T=r("8dd9"),X=function(){var t=this,e=t._self._c;return e(T["a"],{staticClass:"playertray pr-10",class:{current:t.isCurrent},attrs:{id:t.player,width:.6*t.sideLength,height:.35*t.sideLength}},[e("div",{staticClass:"traycontent"},t._l(t.hist_2d,(function(r,i){return e(O["a"],{key:i,attrs:{"no-gutters":"",justify:"center"}},t._l(r,(function(t,r){return e(k["a"],{key:r,attrs:{cols:"3"}},[e("Call",{attrs:{biddingCall:t}})],1)})),1)})),1)])},E=[],R=function(){var t=this,e=t._self._c;return e(m["a"],{staticClass:"d-flex align-center justify-end pr-3",class:t.to_class(t.biddingCall),attrs:{height:.16*t.sideLength,width:.18*t.sideLength,elevation:t.is_special?0:5},domProps:{innerHTML:t._s(t.to_html(t.biddingCall))}})},z=[];const M={N:"N",S:"&spades;",H:"&hearts;",D:"&diams;",C:"&clubs;"},W={P:"P",X:"X",R:"X <br> X"};var A={name:"Call",props:{biddingCall:String},computed:{...Object(n["b"])("sizing",["sideLength"]),is_special(){return["A","B","E"].includes(this.biddingCall)}},methods:{to_html(t){return this.is_special?"":t in W?W[t]:t[0]+"<br>"+M[t[1]]},to_class(t){var e=["table-label"];return(2===t.length||["P","X","R"].includes(t))&&e.push("normal-label"),e.push("label-"+t[t.length-1]),e}}},F=A,J=r("2877"),$=Object(J["a"])(F,R,z,!1,null,null,null),q=$.exports,U={name:"PlayerTray",components:{Call:q},props:{player:String,playerHist:Array,isCurrent:Boolean},computed:{...Object(n["b"])("sizing",["sideLength"]),hist_2d:function(){var t=[...this.playerHist],e=[];for(let r=0;r<this.dlr_pos;r++)t.splice(0,0,"B");while(t.length%4>0)t.push("E");for(let r=0;r<t.length;r+=4)e.push(t.slice(r,r+4));return e}}},G=U,I=Object(J["a"])(G,X,E,!1,null,null,null),K=I.exports,Q={name:"BiddingTable",components:{PlayerTray:K},computed:{...Object(n["b"])("sizing",["sideLength"]),...Object(n["b"])("history",["dealer","boardNum","vulerability","curPlayer","historyByPlayers","contract"])},methods:{player_title(t){return t===this.dealer?"Dlr":t},is_vul(t){var e=["E","W"].includes(t)?this.vulerability["EW"]:this.vulerability["NS"];return e?"v":"nv"},is_current(t){return void 0===this.contract.bid&&this.curPlayer===t}}},V=Q,Y=Object(J["a"])(V,H,D,!1,null,null,null),Z=Y.exports,tt=function(){var t=this,e=t._self._c;return e(m["a"],{staticClass:"box-bids",attrs:{id:this.curPlayer,height:.9*t.sideLength,width:.9*t.sideLength,flat:""}},[e("div",{staticStyle:{"vertical-align":"middle"}},[t._l(t.levels,(function(r){return e(O["a"],{key:r,attrs:{"no-gutters":""}},t._l(t.strains,(function(i,n){return e(k["a"],{key:n,attrs:{"align-center":"",row:"",wrap:"","no-gutters":""}},[e(_["a"],{staticClass:"call-choice bid-choice",attrs:{block:"",ripple:!1,height:t.bidHeight,id:"call-"+r+n,disabled:t.invalid_bid(r,n)},on:{click:function(e){return t.clicked(e)}}},[e("span",{class:"label-"+n,domProps:{innerHTML:t._s(r+i)}})])],1)})),1)})),e(O["a"],{attrs:{"no-gutters":""}},[e(k["a"],{attrs:{cols:"3"}},[e(_["a"],{staticClass:"call-choice",attrs:{block:"",height:t.pxrHeight,ripple:!1,id:"call-R",disabled:!t.canRdbl},on:{click:function(e){return t.clicked(e)}}},[e("span",{staticClass:"label-X"},[t._v("XX")])])],1),e(k["a"],{attrs:{cols:"6"}},[e(_["a"],{staticClass:"call-choice",attrs:{block:"",height:t.pxrHeight,ripple:!1,id:"call-P"},on:{click:function(e){return t.clicked(e)}}},[e("span",{staticClass:"label-P"},[t._v("Pass")])])],1),e(k["a"],{attrs:{cols:"3"}},[e(_["a"],{staticClass:"call-choice",attrs:{block:"",height:t.pxrHeight,ripple:!1,id:"call-X",disabled:!t.canDbl},on:{click:function(e){return t.clicked(e)}}},[e("span",{staticClass:"label-X"},[t._v("X")])])],1)],1)],2)])},et=[],rt={name:"BoxSelect",data(){return{levels:["1","2","3","4","5","6","7"],strains:{N:"N",S:"&spades;",H:"&hearts;",D:"&diams;",C:"&clubs;"}}},computed:{...Object(n["b"])("sizing",["sideLength"]),...Object(n["b"])("history",["curPlayer","lastBid","canDbl","canRdbl","contract"]),bidHeight:function(){return.11*this.sideLength},pxrHeight:function(){return.9*this.sideLength-7*this.bidHeight}},methods:{...Object(n["c"])("history",["addHistory"]),clicked(t){var e=t.currentTarget.id.replace("call-","");this.addHistory(e),this.$emit("selectedCall")},invalid_bid(t,e){if(void 0===this.lastBid)return!1;if(t<this.lastBid[0])return!0;if(t>this.lastBid[0])return!1;var r=Object.keys(this.strains);return r.indexOf(e)>=r.indexOf(this.lastBid[1])}}},it=rt,nt=Object(J["a"])(it,tt,et,!1,null,null,null),at=nt.exports,st=function(){var t=this,e=t._self._c;return e("div",[void 0===t.contract.bid?[t._v(t._s(" "))]:void 0===t.contract.declarer?[t._v("Pass Out")]:[e("span",{class:"label-"+t.contract.bid[1],domProps:{innerHTML:t._s(t.bid_html)}}),e("span",[t._v(t._s(t.pxr))]),e("span",{staticStyle:{"margin-left":"0.5em"}},[t._v(" by "+t._s(t.contract.declarer))])]],2)},lt=[];const ot={N:"N",S:"&spades;",H:"&hearts;",D:"&diams;",C:"&clubs;"},dt={P:"",X:"X",R:"XX"};var ct={name:"Contract",computed:{...Object(n["b"])("history",["contract"]),pxr(){return dt[this.contract.pxr]},bid_html(){return this.contract.bid[0]+ot[this.contract.bid[1]]}}},ut=ct,ht=Object(J["a"])(ut,st,lt,!1,null,null,null),bt=ht.exports,pt={name:"BiddingMain",components:{BiddingTable:Z,BoxSelect:at,Contract:bt},data(){return{boxDialog:!1,tdOpened:!1,resetDialog:!1,sideLength:null}},computed:{...Object(n["b"])("history",["contract"]),biddingEnded:function(){return void 0!==this.contract.bid}},methods:{...Object(n["c"])("sizing",["changeSideLength"]),...Object(n["c"])("history",["undo","advanceBoard","unwindBoard","resetAll"]),onResize:function(){this.sideLength=Math.min(900,window.innerWidth,.85*window.innerHeight),this.changeSideLength(this.sideLength)},toggleDialog:function(){this.biddingEnded||(this.boxDialog=!0)}},mounted(){this.onResize()}},gt=pt,yt=(r("43ab"),Object(J["a"])(gt,S,L,!1,null,null,null)),ft=yt.exports,vt={components:{BiddingMain:ft}},_t=vt,mt=(r("cd2b"),Object(J["a"])(_t,f,v,!1,null,null,null)),Pt=mt.exports,kt=r("f309");i["a"].use(kt["a"],{iconfont:"mdi"});var xt=new kt["a"]({global:{ripples:!1}}),wt=r("9483");Object(wt["a"])("/bidding-box/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});r("9be1"),r("5363");i["a"].config.productionTip=!1,new i["a"]({vuetify:xt,store:g,render:t=>t(Pt)}).$mount("#app")},"6cb9":function(t,e,r){},c4e7:function(t,e,r){},cd2b:function(t,e,r){"use strict";r("c4e7")}});
//# sourceMappingURL=app.4c0d4b3e.js.map